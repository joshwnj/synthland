process.env.HMR_PORT=0;process.env.HMR_HOSTNAME="localhost";parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({6:[function(require,module,exports) {
"use strict";
},{"./assets/FT2.woff":[["FT2.106be2a9.woff",22],22]}],7:[function(require,module,exports) {
"use strict";module.exports="Basement.91972454.m4a";
},{}],8:[function(require,module,exports) {
"use strict";module.exports="impulse_guitar.747b9d81.wav";
},{}],20:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=require("wakit"),i=t.connectAll,o=t.createNodes,r=t.setParams,c=t.paramTimeline,a=t.num,s=t.rand,u=0,d=exports.Filter=function(){function t(e,i){var o=this;n(this,t),this._id=++u,this.node=ac.createBiquadFilter(),this.children=i,this.children.forEach(function(e){return e.connect(o.node)}),this.update(e)}return e(t,[{key:"update",value:function(e){var n=this;["frequency","gain","Q"].forEach(function(t){void 0!==e[t]&&n.updateParam(t,e[t])}),e.type&&(this.node.type=e.type)}},{key:"updateParam",value:function(e,n){var t=this;(Array.isArray(n)?n:[n]).forEach(function(n){"number"==typeof n?t[e]=n:n.connect&&(n.connect(t[e]),t.children.push(n))})}},{key:"connect",value:function(e){this.node.connect(e)}},{key:"disconnect",value:function(){this.node.disconnect(),delete this.node}},{key:"start",value:function(e){this.children.forEach(function(n){return n.start(e)})}},{key:"stop",value:function(e){this.children.forEach(function(n){return n.stop(e)})}},{key:"frequency",get:function(){return this.node.frequency},set:function(e){this.node.frequency.value=e}},{key:"gain",get:function(){return this.node.gain},set:function(e){this.node.gain.value=e}},{key:"Q",get:function(){return this.node.Q},set:function(e){this.node.Q.value=e}}]),t}(),h=exports.Osc=function(){function t(e){n(this,t),this._id=++u,this.nodes=o(ac,{osc:{type:"Oscillator"},amp:{type:"Gain"}}),this.children=[],this.update(e)}return e(t,[{key:"update",value:function(e){var n=this;["detune","frequency","gain"].forEach(function(t){void 0!==e[t]&&n.updateParam(t,e[t])}),e.type&&(this.nodes.osc.type=e.type)}},{key:"updateParam",value:function(e,n){var t=this;(Array.isArray(n)?n:[n]).forEach(function(n){"number"==typeof n?t[e]=n:n.connect&&(n.connect(t[e]),n instanceof ConstantSourceNode||t.children.push(n))})}},{key:"connect",value:function(e){this.nodes.amp.connect(e)}},{key:"disconnect",value:function(){var e=this;this.disconnected||(this.children.forEach(function(n,t){n.disconnect(),delete e.children[t]}),this.nodes.amp.disconnect(),this.nodes.osc.disconnect(),delete this.nodes.amp,delete this.nodes.osc,this.disconnected=!0)}},{key:"start",value:function(e){return this.children.forEach(function(n){return n.start(e)}),this.nodes.osc.start(e),e}},{key:"stop",value:function(e){var n=this;this.children.forEach(function(n){n.stop(e)});var t=setInterval(function(){n.disconnected?clearInterval(t):n.gain.value<.002&&(n.nodes.osc.stop(),n.disconnect(),clearInterval(t))},500)}},{key:"detune",get:function(){return this.nodes.osc.detune},set:function(e){this.nodes.osc.detune.value=e}},{key:"frequency",get:function(){return this.nodes.osc.frequency},set:function(e){this.nodes.osc.frequency.value=e}},{key:"gain",get:function(){return this.nodes.amp.gain},set:function(e){this.nodes.amp.gain.value=e}}]),t}(),f=exports.Env=function(){function t(e){n(this,t),this._id=++u,this.props=e,this.param=null}return e(t,[{key:"connect",value:function(e){this.param=e}},{key:"disconnect",value:function(){delete this.param}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ac.currentTime,n=this.props,t=this.param;if(!t)return e;var i=t.value;return c(t,[{time:e,value:n.from||1e-4},{linearTo:n.to||i,duration:n.attack||.1}])}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ac.currentTime,n=this.props,t=this.param;if(!t)return e;if(void 0===n.release)return 1/0;var i=t.value;return t.cancelScheduledValues(e),c(t,[{time:e,value:n.to||i},{linearTo:n.from||1e-4,duration:n.release||.1}])}}]),t}();
},{}],9:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./audio-components"),n=require("wakit"),t=n.connectAll,a=n.createNodes,r=n.setParams,o=n.paramTimeline,c=n.num,u=n.rand,w=function(e){return 440*Math.pow(2,(e-69)/12)},i=require("frequency-to-midi-note-number");window.ac||(window.ac=new AudioContext);var f=window,s=f.ac,l=["sine","triangle","sawtooth"],m=[];m[0]=function(n,t){var a=n.detune,r=(n.time,n.duration);return new e.Filter({type:"lowpass",frequency:[2e4,new e.Env({attack:.5*r})],gain:1,Q:1},[new e.Osc({type:u.from(l),detune:[new e.Env({attack:.5*r,from:a,to:a-10}),t],gain:new e.Env({attack:.9*r,release:.5*r,to:.3}),frequency:[110,new e.Osc({type:u.from(l),frequency:55,detune:[new e.Env({attack:.5*r,from:a,to:a-10}),t],gain:[27.5*Math.pow(2,(i(110)-60)/12*-2),new e.Env({attack:.5*r,release:2*r}),new e.Osc({frequency:[u.floatInRange(.1,5),new e.Env({attack:.5*r})],gain:[100,new e.Env({attack:3})]})]})]})])},m[1]=function(n,t){n.detune,n.time;var a=n.duration;return new e.Filter({type:"highpass",frequency:new e.Env({attack:.5*a,from:1e4,to:0}),Q:1},[new e.Osc({type:u.from(l),gain:new e.Env({attack:.9*a,release:.5*a,to:.1}),detune:t,frequency:[110,new e.Osc({type:u.from(l),frequency:330,detune:t,gain:[330*Math.pow(2,(i(110)-60)/12*-2),new e.Env({attack:.5*a,release:2*a}),new e.Osc({frequency:[u.floatInRange(.1,5),new e.Env({attack:.5*a})],gain:[100,new e.Env({attack:3})]})]})]})])},m[2]=function(n,t){var a=n.detune,r=(n.time,n.duration),o=u.from([110,220]),c=u.from([.25,.5,1,2,4]),w=u.floatInRange(.25,2),f=u.floatInRange(-2,2);return new e.Filter({type:u.from(["notch","lowpass"]),frequency:new e.Env({attack:r,from:2e4,to:0}),gain:50,Q:1},[new e.Osc({type:u.from(l),detune:[a,t],gain:new e.Env({attack:.9*r,release:.5*r,to:.1}),frequency:[o,new e.Osc({type:u.from(l),frequency:o*c,detune:[a,t],gain:[o*w*Math.pow(2,(i(o)-60)/12*f),new e.Env({attack:.5*r,release:2*r}),new e.Osc({frequency:[u.floatInRange(.1,5),new e.Env({attack:.5*r})],gain:[u.inRange(1,100),new e.Env({attack:.3*r})]})]})]})])},m[3]=function(n,t){var a=n.detune,r=(n.time,n.duration),o=u.from([220,440,880]);u.from([.25,.5,1,2,4]),u.floatInRange(.25,2),u.floatInRange(-2,2);return new e.Filter({type:u.from(["notch","highpass","lowpass"]),frequency:[15e3,new e.Osc({frequency:[u.floatInRange(.1,5),new e.Env({attack:.5*r})],gain:[1e4,new e.Env({attack:.3*r})]})],Q:1},[new e.Osc({type:u.from(l),detune:[a,t],gain:new e.Env({attack:u.floatInRange(.01,.5*r),release:1.5*r,to:.1}),frequency:o})])},exports.default=m;
},{"./audio-components":20}],10:[function(require,module,exports) {
"use strict";var e=1234;function t(t,r,n){for(var i,o=0,a=-1;o<r&&t[o]>n/2;)o++;if(o>=r)return 0;for(;o<r&&(i=t[o])<e;)i>=n/2?-1==a&&(a=o):a=-1,o++;return-1==a&&(a=o),o==r?0:0==a?0:a}function r(e){var t=e.createAnalyser();return t.fftSize=1024,t}function n(e,r){var n=new Uint8Array(r.width),i=r.getContext("2d");return function(){var o=r.width,a=r.height;e.getByteTimeDomainData(n),i.fillStyle="hsl(250, 20%, 20%)",i.fillRect(0,0,o,a),i.lineWidth=1,i.strokeStyle="white",i.beginPath();var f=o/(e.fftSize/2),u=t(n,o,a);0==u&&(u=1);for(var c=u,l=0;l<o-u;c++,l++)i.lineTo(l,a-f*n[c]);i.stroke()}}function i(e,t){var r=n(e,t);!function e(){r(),requestAnimationFrame(e)}()}module.exports={createNode:r,createRenderFunc:n,renderLoop:i};
},{}],2:[function(require,module,exports) {
"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};require("./main.css");var t=require("./impulses/Basement.m4a"),r=u(t),n=require("./impulses/impulse_guitar.wav"),a=u(n),i=require("./defs"),o=u(i);function u(e){return e&&e.__esModule?e:{default:e}}var c=require("electron-open-link-in-browser");document.querySelectorAll("a").forEach(function(e){console.log("elem",e),e.onclick=c.bind(e)});var s=require("wakit"),m=s.connectAll,l=s.createNodes,d=s.setParams,f=s.paramTimeline,v=s.num,p=s.rand,w=require("tunajs");window.ac||(window.ac=new AudioContext);var T=window,g=T.ac,h=new w(g),y=d(g.createGain(),{gain:1}),b=new h.Convolver({highCut:22050,lowCut:20,dryLevel:.2,wetLevel:.8,level:.5,impulse:r.default,bypass:0}),q=new h.PingPongDelay({wetLevel:.7,feedback:.5,delayTimeLeft:150,delayTimeRight:200}),C=new h.Cabinet({impulsePath:a.default,makeupGain:10}),R=new h.Overdrive({outputGain:.5,drive:.3,curveAmount:.7,algorithmIndex:0}),k=new h.Chorus({rate:5.5,feedback:.8,delay:.045,bypass:0}),A=new h.Phaser({rate:3.2,depth:.3,feedback:.4,stereoPhase:30,baseModulationFrequency:700,bypass:0}),I=d(g.createDynamicsCompressor(),{threshold:0,knee:0,reduction:20,ratio:10,attack:1,release:1});m(A,y),m(C,R,y),m(k,y),m(y,b,q,I,g.destination);var P=require("./osc-scope"),L=P.createNode(g),S=document.querySelector(".scope");P.renderLoop(L,S),y.connect(L);var O=void 0,j=g.createConstantSource();j.start(),setInterval(function(){if(!(g.currentTime<O)){var e=o.default[2],t={time:g.currentTime,duration:p.inRange(10,20),detune:p.from([0,1200,2400])};N(e,t,j),N(e,{time:g.currentTime+3,duration:p.inRange(10,20),detune:p.from([700,1900])},j),O=t.time+t.duration}},1e3);var G=void 0,V=g.createConstantSource();V.start(),setInterval(function(){if(!(g.currentTime<G)){var t=p.inRange(0,1),r=o.default[t],n={time:g.currentTime,duration:p.inRange(10,20),detune:p.from([0,1200])},a=p.from([C,k,A]);N(r,n,V,a),N(r,e({},n,{detune:n.detune+1}),V,a),G=n.time+n.duration}},500);var _=void 0,x=g.createConstantSource();x.start(),setInterval(function(){if(!(g.currentTime<O)){var e=o.default[3],t={time:g.currentTime,duration:p.inRange(10,20),detune:p.from([0,1200])};N(e,t,j),N(e,{time:g.currentTime+3,duration:p.inRange(10,20),detune:p.from([700,1900])},x),O=t.time+t.duration}},1e3);var D=window.notes={},M=0;function N(e,t,r,n){var a=m(e(t,r),n||p.from([C,k,A])),i=t.duration,o=t.time;a.start(o),a.stop(o+i);var u=++M;D[u]=a,setTimeout(function(){delete D[u]},1e3*i)}setInterval(function(){var e=p.from([0,-200]);j.offset.linearRampToValueAtTime(e,g.currentTime+10)},39e3),setInterval(function(){var e=p.from([0,-200]);V.offset.linearRampToValueAtTime(e,g.currentTime+10)},53e3),setInterval(function(){var e=p.from([0,-200]);x.offset.linearRampToValueAtTime(e,g.currentTime+10)},51e3);
},{"./main.css":6,"./impulses/Basement.m4a":7,"./impulses/impulse_guitar.wav":8,"./defs":9,"./osc-scope":10}]},{},[2], null)
//# sourceMappingURL=src.28088849.map